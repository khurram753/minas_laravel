var browserPrefix="",$htmlbody=jQuery("html:not(:animated),body:not(:animated)");usrAg=navigator.userAgent,-1<usrAg.indexOf("Chrome")||-1<usrAg.indexOf("Safari")?browserPrefix="-webkit-":-1<usrAg.indexOf("Opera")?browserPrefix="-o":-1<usrAg.indexOf("Firefox")?browserPrefix="-moz-":-1<usrAg.indexOf("MSIE")&&(browserPrefix="-ms-");var requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,100)};function scroll_to_element(e,t,r){t=void 0!==t?t:0,r=void 0!==r?r:1800;var n=e.offset().top-t;$htmlbody.animate({scrollTop:n},r)}function scroll_to_position(e,t){t=void 0!==t?t:600,$htmlbody.animate({scrollTop:e},t)}function checkEmail(e){var t=document.getElementById(e);return 0!=t.value.length&&!!t.value.match(/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-Z0-9]{2,4}$/)}function show_error(e,t){jQuery("#"+e).addClass("field-with-error"),jQuery("#"+t+" label[for='"+e+"']").addClass("label_with_error")}function clear_errors(t){jQuery("#"+t+" input, #"+t+" select, #"+t+" textarea").each(function(){if("hidden"!=jQuery(this).attr("type")&&"button"!=jQuery(this).attr("type")&&"submit"!=jQuery(this).attr("type")||void 0!==jQuery(this).attr("noborder")){jQuery(this).removeClass("field-with-error");var e=jQuery(this).attr("id");jQuery("#"+t+" label[for='"+e+"']").removeClass("label_with_error")}})}function format_time(e){return m=Math.floor(e/60),m=10<=m?m:"0"+m,e=10<=(e=Math.floor(e%60))?e:"0"+e,m+":"+e}get_now=Date.now||function(){return(new Date).getTime()},_throttle=function(r,n,o){var i,a,u,l=null,s=0;o||(o={});function m(){s=!1===o.leading?0:get_now(),l=null,u=r.apply(i,a),l||(i=a=null)}return function(){var e=get_now();s||!1!==o.leading||(s=e);var t=n-(e-s);return i=this,a=arguments,t<=0||n<t?(l&&(clearTimeout(l),l=null),s=e,u=r.apply(i,a),l||(i=a=null)):l||!1===o.trailing||(l=setTimeout(m,t)),u}},_debounce=function(t,r,n){var o,i,a,u,l,s=function(){var e=get_now()-u;e<r&&0<=e?o=setTimeout(s,r-e):(o=null,n||(l=t.apply(a,i),o||(a=i=null)))};return function(){a=this,i=arguments,u=get_now();var e=n&&!o;return o||(o=setTimeout(s,r)),e&&(l=t.apply(a,i),a=i=null),l}};
var s,bLazy,Main={el:{scroll_to:jQuery(".scroll-to"),menu:{},user_menu:{},popups:{},notices:{},body:jQuery("body"),elements_to_escape:[],elements_escape_triggers:[],window:jQuery(window)},vars:{window_w:1e3,window_h:1e3},init:function(){var d={ease1:CustomEase.create("ease1",".45,.01,.07,1"),ease2:CustomEase.create("ease2","M0,0 C0.496,0.174 0.396,1 1,1"),ease3:CustomEase.create("ease3","M0,0 C0.35,0.028 0.338,1 1,1"),ease4:CustomEase.create("ease4",".58,.01,.16,1"),ease5:CustomEase.create("ease5","M0,0 C0,0 0.202,1 1,1")};Main.resizing();var e={showLogin:jQuery(".showlogin"),showCoupon:jQuery(".showcoupon")};if(e.showLogin.add(e.showCoupon).click(function(){jQuery(this).toggleClass("loc"),jQuery(this).hasClass("loc")?jQuery(this).next().addClass("pointer-none op-0"):jQuery(this).next().removeClass("pointer-none op-0")}),680<Main.vars.window_w&&jQuery(".parallax").length){jQuery(window).scroll(function(){var e=jQuery(".parallax");jQuery(e).each(function(){var e=jQuery(this)[0],a=e.getBoundingClientRect(),s=(jQuery(this).innerWidth(),window.innerHeight);if(0<=a.top+a.height&&a.bottom-a.height<=s){var t=jQuery(this).parent(),o=t.height(),r=t[0].getBoundingClientRect().top-(window.innerHeight-o)/2,n=null!==jQuery(this).attr("data-parallax")?jQuery(this).attr("data-parallax"):1,i=Math.max(-window.innerHeight,r),l=function(e,a,s){return(1-s)*e+s*a}(1,Math.floor(Math.min(window.innerHeight,i),2)*n,1);TweenMax.set(e,{y:l})}})})}Main.el.menu={burger:jQuery("#menu-burger"),close:jQuery("#menu-close"),holder:jQuery("#menu-holder"),menu_items:jQuery("#menu-holder .menu-item"),menu_other_items:jQuery("#menu-holder .js-bring-in"),bg:jQuery("#menu-holder__bg"),timeline:new TimelineMax({paused:!0,onReverseComplete:function(){TweenLite.set(Main.el.menu.holder,{autoAlpha:0})}}),submenu_items:jQuery(".submenu-list .submenu-item")};var t={trigger:jQuery(".menu-item-has-children"),menu_inner:jQuery(".menu-holder__inner"),parent_items:jQuery("#menu-holder .menu-item-inner"),menu_secondary:jQuery(".menu-secondary"),bg:jQuery("#secondary-nav-bg"),back:jQuery("#secondary-back"),holder:jQuery(".secondary-nav")},o=new TimelineMax({paused:!0,reverse:!1});if(Main.el.body.hasClass("mobile")?(Main.el.menu.timeline.to(Main.el.menu.holder,.01,{autoAlpha:0},0).to(Main.el.menu.holder,.01,{autoAlpha:1},0).to(Main.el.menu.bg,.8,{scaleX:1,ease:Power2.easeInOut},0).staggerTo(Main.el.menu.menu_items,.8,{alpha:1,ease:Power2.easeInOut},.05,.3).set(Main.el.menu.close,{className:"+=loc"},"-=0.4"),t.trigger.click(function(){var e=jQuery(this).find(".secondary-nav"),a=jQuery(this).find(".submenu-item"),s=jQuery(this).find(".secondary-nav__title");t.trigger.removeClass("loc"),jQuery(this).addClass("loc"),jQuery(this).hasClass("loc")&&(o.timeScale(1).play(),o.to([t.parent_items,t.menu_secondary],.5,{autoAlpha:0,ease:Expo.easeOut},0),o.to(t.bg,.8,{scaleX:1,ease:d.ease1},0),o.to(t.back,1,{autoAlpha:1,ease:d.ease1},.3),o.to(s,1,{autoAlpha:1,ease:d.ease1},.35),o.staggerTo(a,1,{autoAlpha:1,ease:d.ease1},.04,.4),TweenMax.to(e,1,{autoAlpha:1},.2),t.back.click(function(){TweenMax.to(e,1,{autoAlpha:0},0),o.reverse().timeScale(2),t.trigger.removeClass("loc")}))})):Main.el.menu.timeline.set(Main.el.menu.holder,{autoAlpha:0},0).set(Main.el.menu.holder,{autoAlpha:1},0).to(Main.el.menu.bg,1,{scaleX:1,ease:d.ease1},.2).staggerTo(Main.el.menu.menu_items,1,{alpha:1,x:0,ease:d.ease1},.04,.5).staggerTo(Main.el.menu.submenu_items,1,{alpha:1,x:0,ease:d.ease1},.04,.55).staggerTo(Main.el.menu.menu_other_items,1,{alpha:1,y:0,ease:d.ease1},.04,.55).set(Main.el.menu.close,{className:"+=loc"},.55),Main.el.menu.burger.add(Main.el.menu.close).click(function(){Main.el.menu.holder.toggleClass("loc"),Main.el.menu.holder.hasClass("loc")?Main.el.menu.timeline.timeScale(1).play():(Main.el.menu.timeline.timeScale(1.5).reverse(),t.trigger.hasClass("loc")&&(o.reverse().timeScale(1.6),TweenMax.to(t.holder,1,{autoAlpha:0,ease:d.ease1})))}),Main.el.elements_to_escape.push(Main.el.menu.holder),Main.el.elements_to_escape.push(Main.el.menu.burger),Main.el.elements_escape_triggers.push(Main.el.menu.close),document.getElementById("js-usermenu-opener")&&(Main.el.user_menu={opener:jQuery("#js-usermenu-opener"),close:jQuery("#usermenu-close"),holder:jQuery("#user-menu"),menu_items:jQuery("#user-menu .user-menu__item"),bg:jQuery("#user-menu__bg"),timeline:new TimelineMax({paused:!0,onReverseComplete:function(){TweenLite.set(Main.el.user_menu.holder,{autoAlpha:0})}})},Main.el.user_menu.timeline.to(Main.el.user_menu.holder,.01,{autoAlpha:0}).to(Main.el.user_menu.holder,.01,{autoAlpha:1}).to(Main.el.user_menu.bg,.8,{scaleY:1,ease:Power2.easeInOut}).staggerTo(Main.el.user_menu.menu_items,.8,{alpha:1,y:0,ease:Power2.easeInOut},.04,"-=0.2").set(Main.el.user_menu.close,{className:"+=loc"},"-=0.4"),Main.el.user_menu.opener.add(Main.el.user_menu.close).click(function(){Main.el.user_menu.holder.toggleClass("loc"),Main.el.user_menu.holder.hasClass("loc")?Main.el.user_menu.timeline.timeScale(1).play():Main.el.user_menu.timeline.timeScale(1.5).reverse()}),Main.el.elements_to_escape.push(Main.el.user_menu.holder),Main.el.elements_to_escape.push(Main.el.user_menu.opener),Main.el.elements_escape_triggers.push(Main.el.user_menu.close)),document.getElementById("js-main-product-img")){var r={default_img:jQuery("#js-main-product-img"),append_div:jQuery("#js-product-variations-images"),selects:jQuery(".js-product-variation-select"),images_str:"",appended_images:""};r.selects.each(function(e){jQuery(this).find("option").each(function(e){var a=jQuery(this);void 0!==a.data("img")&&""!==a.data("img")&&(r.images_str+='<img src="'+a.data("img")+'" alt="" class="js-prod-variation-app-img product-top-section__img abs-bc trans op-0" id="js-prod-variation--'+a.val()+'">')})}),r.append_div.append(r.images_str),r.appended_images=jQuery(".js-prod-variation-app-img"),r.selects.each(function(e){var s=jQuery(this);jQuery(this).change(function(){var e=s.val();if(r.appended_images.addClass("op-0"),""!==e){var a=document.getElementById("js-prod-variation--"+e);null!=a?(r.default_img.addClass("op-0"),jQuery(a).removeClass("op-0")):r.default_img.removeClass("op-0")}else r.default_img.removeClass("op-0")})})}if(document.getElementById("show_password")){var a={trigger:jQuery("#show_password"),element:jQuery("#password")};a.trigger.click(function(){jQuery(this).hasClass("loc")?(a.element.attr("type","password"),jQuery(this).removeClass("loc")):(a.element.attr("type","text"),jQuery(this).addClass("loc"))})}var n={tab:jQuery(".faq-tab-link")};if(n.tab.click(function(){var e=jQuery(this).data("content");jQuery(this).hasClass("loc")?(jQuery(this).removeClass("loc"),jQuery(e).slideUp(800)):(n.tab.removeClass("loc"),jQuery(this).addClass("loc"),jQuery(".faq-tab__content").slideUp(800),jQuery(e).slideDown(800))}),document.getElementById("video-holder-project")){var i={holder:jQuery("#video-holder-project"),controls:jQuery("#videoAdjustments-holder")};i.holder.hover(function(){i.controls.addClass("loc")},function(){i.controls.removeClass("loc")})}if(document.getElementById("video-container")){var l={trigger:jQuery(".video-target"),container:jQuery("#video-container"),bg:jQuery("#video__bg"),close:jQuery("#video-close"),jsFade:jQuery(".js-video-fade"),ajax_video_holder:jQuery("#ajax-video")},u=new TimelineMax({paused:!0,reverse:!1});u.set(Main.el.body,{className:"+=overflow"}).set(l.container,{autoAlpha:0}).set(l.jsFade,{autoAlpha:0}).to(l.container,.01,{autoAlpha:1},0).to(l.bg,1,{scaleY:1,transformOrigin:"top left",ease:d.ease1}).set(l.close,{className:"+=loc"}),l.trigger.click(function(){var e=jQuery(this);jQuery.ajax({url:templateURL+"ajax_video.php",type:"post",data:{video_url:e.data("target")},success:function(e){l.ajax_video_holder.html(e);var a=jQuery(".js-video-fade");setTimeout(function(){u.to(a,.7,{autoAlpha:1})},100);var s={player:jQuery("#vimeo-player"),holder:jQuery("#videoAdjustments-holder")},t=new Vimeo.Player("vimeo-player");t.ready().then(function(){t.setLoop(1),t.setVolume(1),t.play()}),s.adjustments=jQuery("#videoAdjustments"),s.container=jQuery("#embed-container"),s.play=jQuery("#play"),s.pause=jQuery("#pause"),s.set_time=jQuery("#setTime"),s.current_play=jQuery("#currentPlay"),s.status=jQuery("#status"),t.getDuration().then(function(e){s.set_time.add(s.current_play).attr("max",e)}),t.play(),jQuery(document).on("input",s.set_time,function(){t.pause(),t.getDuration().then(function(e){var a=s.set_time.val();t.setCurrentTime(a),s.play.removeClass("loc"),s.pause.addClass("loc"),t.play()})}),t.on("timeupdate",function(e){var a=Math.ceil(e.seconds);s.set_time.add(s.current_play).val(a),s.status.text(format_time(a))}),s.play.click(function(){t.play(),jQuery(this).removeClass("loc"),s.pause.addClass("loc")}),s.pause.click(function(){t.pause(),jQuery(this).removeClass("loc"),s.play.addClass("loc")})}}),u.timeScale(1).play()}),l.close.click(function(){u.timeScale(1.4).reverse(),setTimeout(function(){jQuery("#ajax-video").empty()},1500)}),jQuery("#video-holder").live("mouseenter",function(){jQuery("#videoAdjustments-holder").addClass("loc")}).live("mouseleave",function(){jQuery("#videoAdjustments-holder").removeClass("loc")})}if(document.getElementById("ajax-load-inline-video")&&1100<Main.vars.window_w){var c=jQuery("#ajax-load-inline-video");jQuery.ajax({url:templateURL+"ajax_vimeo.php",type:"post",data:{vimeo_id:c.data("vimeoid"),video_controls:c.data("video_controls"),autoplay:c.data("autoplay")},success:function(e){c.html(e);var a=new Vimeo.Player("vimeo-player");a.ready().then(function(){a.setVolume(0),a.setLoop(1)})}})}jQuery(".wishlist-remove")[0]&&{trigger:jQuery(".js-wishlist-remove")}.trigger.click(function(){jQuery(jQuery(this).data("trigger")).toggleClass("loc")});if(document.getElementById("svg-cursor")){var p={element:jQuery(".js-hover-svg-cursor"),cursor:jQuery("#cursor-svg")};p.element.mousemove(function(e){TweenLite.to(p.cursor,.4,{x:e.clientX,y:e.clientY,ease:Power2.easeOut})}).mouseenter(function(e){TweenLite.to(p.cursor,.1,{alpha:1,x:e.clientX,y:e.clientY,ease:Power2.easeOut})}).mouseleave(function(){TweenLite.to(p.cursor,.1,{alpha:0,ease:Power2.easeOut})}),document.getElementById("popup-slider")&&(p.gallery_opener=jQuery("#product-gallery-opener"),p.slider=jQuery("#popup-slider__holder"),p.controls=jQuery("#popup-slider__prev, #popup-slider__next"),p.total=0,p.slider_initialized=!1,p.popup=jQuery("#popup-slider"),p.popup_bg=jQuery("#popup-slider__bg"),p.popup_close=jQuery("#popup-slider__close"),p.popup_content=jQuery("#popup-slider__content"),p.timeline=new TimelineMax({paused:!0,delay:1,onReverseComplete:function(){TweenLite.set(p.popup,{autoAlpha:0})}}),p.timeline.to(p.popup,.01,{autoAlpha:0}).to(p.popup,.01,{autoAlpha:1}).to(p.popup_bg,.9,{scaleY:1,ease:Power2.easeInOut}).to(p.popup_content,1,{alpha:1,x:0,ease:Power2.easeInOut},"-=0.05").set(p.popup_close,{className:"+=loc"},"-=0.4"),p.popup_close.click(function(){p.timeline.timeScale(1.5).reverse()}),p.element.add(p.gallery_opener).click(function(){var e=jQuery(this);if(e.hasClass("js-open-gallery")){var s=void 0!==e.data("goto")?e.data("goto"):0,a=void 0!==e.data("pid")?e.data("pid"):0;p.slider_initialized&&p.slider.gsapSlider("destroy"),p.controls.addClass("op-0"),p.timeline.timeScale(1).play(),jQuery.ajax({url:templateURL+"ajax_gallery.php",type:"post",data:{pid:a,goto_slide:s},success:function(e){var a=jQuery.parseJSON(e);1<a.total&&p.controls.removeClass("op-0"),p.slider.data("totalslides",a.total),p.total=a.total,p.slider.html(a.html),1100<=Main.vars.window_w&&Main.build_sliders(p.slider),p.slider_initialized=!0,0<s&&p.slider.data("plugin_gsapSlider").gotoSlide(s,1,"next")}})}}))}if(jQuery(".quant-minus")[0]){var m=1,h=20;jQuery(document).on("click",".quant-minus, .quant-plus",function(){var e=jQuery(this),a=jQuery(e.data("id")).val();jQuery(".update_cart")[0]&&jQuery(".update_cart").removeProp("disabled").addClass("active"),e.hasClass("plus")?20<(a=Number(a)+1)&&(a=h):(a=Number(a)-1)<1&&(a=m),jQuery(e.data("id")).val(a),jQuery(e.data("id")).val(a)})}jQuery(".js-notice").each(function(e){var a=jQuery(this);Main.el.notices[e]={holder:a,close:a.find(".js-notice-close"),timeline:new TimelineMax({paused:!0})},Main.el.notices[e].close.html('<svg class="icon icon--x-thick"><use xlink:href="#x-thick"></use></svg>'),Main.el.notices[e].timeline.set(Main.el.notices[e].holder,{autoAlpha:0}),Main.el.notices[e].close.click(function(){TweenLite.to(Main.el.notices[e].holder,.6,{autoAlpha:0})})}),jQuery(".js-popup-opener").each(function(e){var a=jQuery(this);Main.el.popups[e]={opener:a,holder:jQuery(a.data("target")),bg:jQuery(a.data("target")).find(".js-popup-bg"),options:jQuery(a.data("target")).find(".js-popup-option"),close:jQuery(a.data("target")).find(".js-popup-close"),timeline:new TimelineMax({paused:!0,onReverseComplete:function(){TweenLite.set(Main.el.popups[e].holder,{autoAlpha:0})},onComplete:function(){Main.el.popups[e].holder.hasClass("popup--search")&&Main.el.popups[e].holder.find("#search-popup__field").focus().select()}})},Main.el.popups[e].timeline.to(Main.el.popups[e].holder,.01,{autoAlpha:0}).to(Main.el.popups[e].holder,.01,{autoAlpha:1}).to(Main.el.popups[e].bg,.8,{scaleY:1,ease:Power2.easeInOut}).staggerTo(Main.el.popups[e].options,.8,{alpha:1,x:0,ease:Power2.easeInOut},.04,"-=0.2").set(Main.el.popups[e].close,{className:"+=loc"},"-=0.4"),Main.el.popups[e].opener.add(Main.el.popups[e].close).click(function(){Main.el.popups[e].holder.toggleClass("loc"),Main.el.popups[e].holder.hasClass("loc")?Main.el.popups[e].timeline.timeScale(1).play():Main.el.popups[e].timeline.timeScale(1.5).reverse()}),Main.el.elements_to_escape.push(Main.el.popups[e].holder),Main.el.elements_to_escape.push(Main.el.popups[e].opener)}),jQuery(".circle-link").hover(function(){var e=jQuery(this).find(".js-svg-circle"),a=jQuery(this).find(".js-stretched"),s=jQuery(this).find(".js-stretched-2");TweenMax.to(e,1.3,{morphSVG:a,ease:Linear.easeNone,alpha:1},0),TweenMax.to(e,1.3,{morphSVG:s,ease:Linear.easeNone,alpha:1,yoyo:!1,repeat:-1,yoyoEase:Linear.easeNone},.5)},function(){var e=jQuery(this).find(".js-svg-circle");TweenMax.to(e,.8,{ease:Linear.easeNone,morphSVG:e},0)}),bLazy=new Blazy({selector:".b-lazy, .bLazy-bg",loadInvisible:!0,offset:200});var y=jQuery("#search-autocomplete");jQuery("#search-popup__field").keyup(function(){if(3<=jQuery(this).val().length){var e=jQuery(this).val();jQuery.ajax({url:templateURL+"ajax_search.php",type:"post",data:{search_val:e},success:function(e){y.html(e)}})}else y.html("")}),Main.el.scroll_to.click(function(){var e=void 0!==jQuery(this).data("target")?jQuery(this).data("target"):"",a=void 0!==jQuery(this).data("position")&&jQuery(this).data("position"),s=void 0!==jQuery(this).data("goto_offset")?jQuery(this).data("goto_offset"):105,t=void 0!==jQuery(this).data("goto_speed")?jQuery(this).data("goto_speed"):1e3;!1!==a&&0<=a?scroll_to_position(a,t):scroll_to_element(jQuery(e),s,t)}),jQuery(document).keyup(function(e){27===e.keyCode&&Main.escape_triggers()}),jQuery(document).click(function(){Main.escape_triggers()}),jQuery.each(Main.el.elements_to_escape,function(e,a){a.click(function(e){e.stopPropagation()})}),s=skrollr.init({keyframe:function(e,a,s){var t=new TimelineMax,o=jQuery(e),r=jQuery(e).data("delay"),n=jQuery(e).data("trans"),i=jQuery(e).data("ease"),l=jQuery(e).data("cubic");if(null==n&&(n=1.2),null==r&&(r=0),o.hasClass("in-view")&&"dataBottomTop"==a&&"down"==s){if(o.hasClass("curtain-vertical")&&(i=null==l||"custom2"!=l?CustomEase.create("custom2","M0,0 C0.49,0.05 0.18,0.94 1,1"):null==l||"custom"!=l?CustomEase.create("custom","M0,0 C0.348,0.822 0.22,1 1,1"):Power1.easeInOut,t.to(e,n,{scaleY:0,onComplete:p,ease:i},r)),o.hasClass("scale-out")&&(i=null==l||"custom"!=l?d.ease5:d.ease3,t.to(e,n,{scale:1,alpha:1,transformOrigin:"center center",onComplete:p,ease:i},r)),o.hasClass("js-curtainY")&&(i=null==l||"custom"!=l?d.ease1:d.ease4,t.to(e,n,{scaleY:1,ease:i},r)),o.hasClass("js-curtain-tb")&&(i=null==l||"custom"!=l?d.ease4:d.ease1,t.to(e,n,{scaleY:0,ease:i},r)),o.hasClass("js-bt")){var u=o.data("alpha"),c=o.data("velocity");r=o.data("delay");null==u&&(u=1),null==c&&(c=0),t.staggerTo(jQuery(e).find(".js-bt__el"),n,{y:0,alpha:u,ease:d.ease1},c,r)}if(o.hasClass("js-st-fade-up")){u=o.data("alpha"),c=o.data("velocity"),r=o.data("delay");null==u&&(u=1),null==c&&(c=0),t.staggerTo(jQuery(e).find(".js-st-fade-up__el"),n,{y:0,alpha:u,ease:d.ease1},c,r)}o.hasClass("js-fade-up")&&t.to(jQuery(e),n,{autoAlpha:1,y:0,ease:d.ease1},r),o.hasClass("js-fade-left")&&(i=null==l||"custom"!=l?d.ease1:d.ease4,t.to(jQuery(e),n,{autoAlpha:1,x:0,ease:i},r)),o.hasClass("js-fade-right")&&t.to(jQuery(e),n,{autoAlpha:1,x:0,ease:d.ease1},r),o.hasClass("js-fade-in")&&(i=null==l||"custom"!=l?d.ease1:d.ease2,t.to(e,n,{autoAlpha:1,ease:i},r)),o.hasClass("js-scale")&&(i=null==l||"custom"!=l?d.ease4:d.ease1,t.to(e,n,{scale:1,alpha:1,transformOrigin:"center center",ease:i},r)),o.hasClass("js-scale-lr")&&(i=null==l||"custom"!=l?d.ease4:d.ease1,t.to(e,n,{scaleX:1,ease:d.ease1},r)),o.hasClass("js-img-scale")&&t.to(jQuery(e).find(".js-img-scale__holder"),n,{alpha:1,scaleX:1,x:0,ease:d.ease2},r),o.hasClass("js-scale-mask")&&(i=null==l||"custom"!=l?d.ease1:i=d.ease5,t.to(jQuery(e).find(".js-scale-mask__el"),n,{alpha:1,scale:1,y:0,transfromOrigin:"center center",ease:i},r)),o.hasClass("js-img-reveal")&&(i=null==l||"custom"!=l?d.ease1:d.ease3,t.to(jQuery(e).find(".js-img-reveal__holder"),n,{y:0,ease:i},r),t.to(jQuery(e).find(".js-img-reveal__image"),n,{y:0,ease:i},r)),o.hasClass("js-scale-out")&&(t.to(jQuery(e).find(".js-scale-out__holder"),1.24,{scale:1,autoAlpha:1,transfromOrigin:"center center",ease:d.ease3},r),t.to(jQuery(e).find(".js-scale-out__img"),1.2,{scale:1,transfromOrigin:"center center",ease:d.ease3},r)),o.hasClass("js-skew")&&(i=null==l||"custom"!=l?d.ease1:d.ease3,t.to(jQuery(e),n,{skewY:-3,y:0,autoAlpha:1,ease:i},r)),o.addClass("loc")}else o.removeClass("in-view");function p(){o.removeClass("in-view")}},mobileCheck:function(){return!1},forceHeight:!1});var j=new TimelineMax({paused:!0}),g={opener:jQuery("#open-ns-popup"),holder:jQuery("#ns-popup-holder"),bg:jQuery("#ns-popup-bg"),close:jQuery("#ns-popup-close"),fade:jQuery(".js-anim-fade"),mask:jQuery("#ns-popup-mask")};j.set(Main.el.body,{className:"+=overflow"}),j.set(g.bg,{scaleY:0,x:"-50%",transformOrigin:"top left"}),j.set(g.holder,{autoAlpha:1},0),j.to(g.mask,1,{alpha:.5},.2),j.to(g.bg,1,{scaleY:1,x:"-50%",transformOrigin:"top left",ease:Expo.easeInOut},.2),j.staggerTo(g.fade,1,{autoAlpha:1},.2,1),g.opener.add(g.close).click(function(){g.holder.toggleClass("loc"),g.holder.hasClass("loc")?j.play():j.timeScale(1.5).reverse()});var _=jQuery("#ns-accept"),Q=jQuery(".ns-accept");_.on("click",function(){jQuery(this).hasClass("check")?jQuery(this).removeClass("check"):(jQuery(this).addClass("check"),Q.removeClass("ns-error-accept"))}),jQuery("#ns-submit").on("click",function(){_.hasClass("check")||Q.addClass("ns-error-accept");var e=jQuery(this).parents("form").attr("id"),a=jQuery(jQuery(this).data("reply"));Main.checkform_ns(e,a)})},build_carousels:function(e){var t=[],o=[];e.each(function(a){var e=jQuery(this),s=e.attr("id");t[a]={wrapper:e,item:jQuery("#"+s+" .js-drag-item"),item_img:jQuery("#"+s+" .js-drag-img"),links:jQuery("#"+s+" .js-carousel__link"),total_items:0,scrollby:200,max_scroll:0,scroll_percentage:void 0!==e.data("scroll_percentage")&&jQuery(e.data("scroll_percentage")),margin:32,cursor:jQuery("#cursor-grab")},void 0!==e.data("margin")&&(t[a].margin=e.data("margin")),t[a].total_items=t[a].wrapper.data("total"),t[a].scrollby=Math.ceil(t[a].item.filter(".item--0").width()+t[a].margin),t[a].max_scroll=(t[a].scrollby-t[a].margin)*t[a].total_items+t[a].margin,o[a]=Draggable.create(t[a].wrapper,{type:"scrollLeft",edgeResistance:.9,dragResistance:0,maxDuration:2,minDuration:1.2,throwProps:!0,dragClickables:!0,onThrowUpdate:function(){bLazy.revalidate()},snap:function(e){return-1*Math.round(Math.round(e/t[a].scrollby)*t[a].scrollby)},onDrag:function(e){TweenLite.set(t[a].cursor,{x:e.pageX,y:e.pageY})},onPress:function(e){Main.vars.is_touch||TweenLite.set(t[a].cursor,{className:"+=mouse-down"}),TweenLite.to(t[a].item_img,1.1,{scale:.95})},onRelease:function(){Main.vars.is_touch||TweenLite.set(t[a].cursor,{className:"-=mouse-down"}),TweenLite.to(t[a].item_img,1,{scale:1})}}),t[a].wrapper.mousemove(function(e){TweenLite.set(t[a].cursor,{x:e.pageX,y:e.pageY})}).mouseenter(function(){TweenLite.to(t[a].cursor,.1,{alpha:1})}).mouseleave(function(){TweenLite.to(t[a].cursor,.1,{alpha:0})}),t[a].links.mouseenter(function(){TweenLite.to(t[a].cursor,.1,{alpha:0})}).mouseleave(function(){TweenLite.to(t[a].cursor,.1,{alpha:1})})})},build_sliders:function(e){e.each(function(){var e=jQuery(this),a=e.attr("id");e.gsapSlider({slider_id:a,setCustomAnimation:function(e,a,s){if("initialState"===a)return{yPercent:-100};var t=new TimelineMax;return"nextSlide"===a?(t.to(s.old_slide,s.time,{yPercent:0,zIndex:10},0),t.fromTo(s.new_slide,s.time,{yPercent:100,zIndex:15},{yPercent:0,zIndex:15},0)):(t.to(s.old_slide,s.time,{yPercent:0,zIndex:10},0),t.fromTo(s.new_slide,s.time,{yPercent:-100,zIndex:15},{yPercent:0,zIndex:15},0)),t}})})},escape_triggers:function(){jQuery.each(Main.el.popups,function(e,a){Main.el.popups[e].holder.hasClass("loc")&&Main.el.popups[e].timeline.timeScale(1.4).reverse()}),jQuery.each(Main.el.elements_escape_triggers,function(e,a){a.hasClass("loc")&&a.trigger("click")})},checkform_ns:function(e,a){clear_errors(e);var s,t=1,o=jQuery("#"+e);if(o.find(".required").each(function(){s=jQuery(this).attr("id"),""!==jQuery(this).val()&&jQuery(this).val()!==document.getElementById(s).defaultValue||(t=0,show_error(s,e),jQuery(a).html('<div class="reply-error color--red">'+o.data("error_mandatory")+"</div>"))}),o.find(".required-chk").each(function(){jQuery(this).prop("checked")||(t=0,show_error(s,e),jQuery(a).html('<div class="reply-error color--red">'+o.data("error_mandatory")+"</div>"))}),1!==t)return!1;if(o.find(".email").each(function(){if(s=jQuery(this).attr("id"),!1===checkEmail(s)&&1===t)return t=0,show_error(s,e),jQuery(a).html('<div class="reply-error color--red">'+o.data("error_email")+"</div>"),!1}),""!==o.find("#ns-check").val())return t=0,!1;if(1===t){var r=o.serialize();jQuery(a).html('<div class="loading"></div>'),jQuery.post(templateURL+"ajax_ns_submit.php",r).done(function(e){jQuery(a).html(e)})}},resizing:function(){Main.vars.window_w=Main.el.window.width()}};jQuery(window).load(function(){Main.init()});var debounce_resize=_debounce(Main.resizing,70);onresize=debounce_resize;